# AWS KMS

## 概要
- クラウドでは以下の2つの状態で暗号化をする必要がある
  - Data at rest（保存中）
  - Data in transit(転送中)
- KMSは保存中のデータを暗号化する(Data at rest)
- Key management Serviceの略
- HMACキー、対象キー、非対称キーの作成、管理ができる
- キーのライフサイクル管理、自動ローテーションが可能

## 主な機能/特徴
- **対象暗号化（共通鍵暗号方式）**：一つのキーを使った暗号化、復号を行う
- **非対象暗号化（公開鍵暗号方式）**：公開鍵と秘密鍵のキーペアを使った暗号化、復号を行う
- **キーのローテーション**: 暗号キーは定期的にローテーションをすることが推奨される。古いキーマテリアルも保存することが可能。
- **キー（CMK）** :KMS内でデータ暗号化やデジタル署名を行うための論理的なエンティティ
- **キーマテリアル**：セキュアなバイナリ表現であり、実際の暗号・復号に利用されるバイト列。
- **キーのライフサイクル**：有効化→無効化→削除の流れで行うことができる。削除してしまうと、そのキーを利用した復号ができなくなってしまうため、一定期間論理削除（無効化）をしてから削除したほうがよい。
- **BYOK（Bring Your Own Key）** ：外部のキー、キーマテリアルをインポートして利用することができる。キーの自動ローテーション、バックアップ、論理削除はサポートされてない。
- **キーポリシー** ：CMKに対するアクセス制御を行うことができる。

## 他サービスとの連携
|  サービス名  |  利用方法  |
| :--- | :--- |
|  System Manager  | システムで使用するパラメータやシークレットを一時的に保存  |
|  Secrets Manager  |  シークレットを保存するための専用のストレージサービス  |
|  データベース  |  保管時のサーバー暗号化をサポート  |
|  S3  | 保管時のデータを暗号化をサポート  |

